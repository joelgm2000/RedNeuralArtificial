<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
               "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
  <!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<title>Jep: Creating mathml from expressions</title>
</head>
<body>

<script type="text/javascript">
<!--
document.write('<p>Hello</p>');
function PressMe()
{
alert('Press Me');
}

function render()
{
alert('render');
	var div=document.getElementById("outputDiv");

	//var res = document.applets[0].render();
	//alert(res);
	//return false;
	var ls ="\n";
	var res = 	"<math xmlns=\"&mathml;\">" + ls + 
	"<mrow>" + ls + 
	"<msup>" + ls + 
	"<mi>x</mi>" + ls + 
	"<mn>2</mn>" + ls + 
	"</msup>" + ls + 
	"<mo> + </mo>" + ls + 
	"<mn>4</mn>" + ls + 
	"<mo>&#x2062;</mo>" + ls + 
	"<mi>x</mi>" + ls + 
	"<mo> + </mo>" + ls + 
	"<mn>4</mn>" + ls + 
	"</mrow>" + ls + 
	"</math>" + ls;

	div.innerHTML = res; 
	
	  source = '<?xml version="1.0"?>'
         + '<!DOCTYPE html PUBLIC'
         + ' "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"'
         + ' "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd"'
         + '['
         + ' <!ENTITY mathml "http://www.w3.org/1998/Math/MathML">'
         + ']>'
         + ''
         + '<body>'


+'<math xmlns="&mathml;">'
+    '<mfrac>'
+'     ' <mi>a</mi>'
+'      <mi>b</mi>'
+'    </mfrac>'
+  '</math>'

         + '</body>'
         + '';
  var target = document.getElementById("outputID");
  target.setAttribute("src","data:text/xml;charset=utf-8," + escape(source));
 
}
// -->
</script>

<applet width="100%" height="50"
	code="com.singularsys.extexamples.applets.mathml.MathMLApplet"
	codebase="../../../../../../bin"
	mayscript="true"
>
<param name="StyleSheet" value="mmlctop2_0.xsl"/>
</applet>

<form>
<input type="button" value="Render" onClick="render();"/>
<input type="button" value="PressMe" onClick="PressMe();"/>
</form>

<div id="outputDiv">

</div>

 <p><iframe id="outputID" src=
  "data:text/html,The MathML rendering will appear here." width="98%"
  height="150">You need a MathML-enabled Gecko-based browser.</iframe></p>


<h2>presentation mathml</h2>
<math xmlns="&mathml;">
    <mfrac>
      <mi>a</mi>
      <mi>b</mi>
    </mfrac>
  </math>

<h2>content mathml</h2>
<math xmlns="&mathml;">
      <power/>
	    <ci>x</ci>
	    <cn>2</cn>
  </math>


	</body>
</html>